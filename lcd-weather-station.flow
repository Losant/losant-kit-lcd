{"globals":[],"triggers":[{"type":"virtualButton","meta":{"category":"trigger","name":"virtualButton","label":"Virtual Button","x":260,"y":100,"uiId":"rk924Lwbe","payload":"","description":""},"config":{},"key":"5829cd1610f0530100e52893-BJOpN8P-x","outputIds":[["H140arwWx"]]},{"type":"timer","meta":{"category":"trigger","name":"timer","label":"Timer","x":480,"y":100,"uiId":"rywB6uwZe","description":""},"config":{"seconds":60},"key":"fe356e50b1aa11e68ea9d5ee3c9d2e98","outputIds":[["H140arwWx"]]},{"config":{},"outputIds":[["H140arwWx"]],"key":"5829c6c6f3c18601009e5b25","type":"deviceIdConnect","meta":{"category":"trigger","name":"deviceIdsTagsConnect","label":"On Connect","x":40,"y":100,"uiId":"Bksr6OP-l","description":""}}],"nodes":[{"type":"DeviceSendCommandNode","meta":{"category":"output","name":"device-command","label":"Device Command","x":240,"y":600,"deviceSelectionType":"direct","description":""},"config":{"nameTemplate":"refresh","payloadTemplate":"{ \"L1\": \"{{ time }}      {{ weather.body.currently.temperature }}\",\n\"L2\": \"{{weather.body.currently.summary}} \"}","payloadTemplateType":"json","sendToDeviceIds":["5829c6c6f3c18601009e5b25"],"sendToDeviceTags":[],"deviceIdsPath":""},"id":"rJhXarwZx","outputIds":[["SJVkk8w-e"]]},{"type":"HttpNode","meta":{"category":"data","name":"http","label":"HTTP","x":240,"y":240,"description":""},"config":{"method":"GET","uriTemplate":"https://api.darksky.net/forecast/a1bd643d89d04e7d0e2091dc5f200320/39.1073830,-84.5574830","responsePath":"weather","headerInfo":[]},"id":"H140arwWx","outputIds":[["rJNBqiGMg"]]},{"type":"DebugNode","meta":{"category":"output","name":"debug","label":"Debug","x":240,"y":720,"description":""},"config":{"message":"","property":""},"id":"SJVkk8w-e","outputIds":[]},{"type":"MathNode","meta":{"category":"logic","name":"math","label":"Math","x":240,"y":480,"description":""},"config":{"statements":[{"expression":"round({{ weather.body.currently.temperature }})","resultPath":"weather.body.currently.temperature"}]},"id":"Sy2E_jfMx","outputIds":[["rJhXarwZx"]]},{"type":"RawFunctionNode","meta":{"category":"logic","name":"function","label":"Function","x":240,"y":360,"description":""},"config":{"script":"var d = new Date();\nd.setHours(d.getHours() - 5);\nd = d.toLocaleTimeString().replace(/:\\d+ /, ' '); // current time, e.g. \"1:54 PM\"\n\npayload.time = d"},"id":"rJNBqiGMg","outputIds":[["Sy2E_jfMx"]]}],"name":"Weather Station","enabled":true,"description":"","applicationId":"5829c68710f0530100e52892","_type":"flow","_exportDate":"2016-11-23T18:32:35.960Z"}